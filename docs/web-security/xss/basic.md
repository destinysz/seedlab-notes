#
#### 什么是XSS
跨站脚本攻击是指恶意攻击者往Web页面里插入恶意Script代码，当用户浏览该页之时，嵌入其中Web里面的Script代码会被执行，从而达到恶意攻击用户的目的。  
xss漏洞通常是通过php的输出函数将javascript代码输出到html页面中，通过用户本地浏览器执行的，所以xss漏洞关键就是寻找参数未过滤的输出函数。  
。


#### xss分类
**反射型xss**
许多网站都有反射行为，它们从用户接受输入，执行一些操作后向用户发送响应，用户的输入也被包含在响应中。比如用google搜索不存在的词abc，google的返回结果页面通常包含‘找不到与abc相符的结果’  

假设网站存在xss漏洞：http://aaa.com/search/?input=word。其中word由用户提供。攻击者输入的是`<script>alert("attack");</script>`既`http://aaa.com/search/?input=<script>alert("attack");</script>`  
当用户请求后，它返回一个带有搜索结果页面，同时原输入也在页面中，那么攻击者的js代码就成功进入了浏览器，就会看到一个内容为attack的弹出消息。  

**存储型xss**
攻击者可以把数据发送给目标网站，网站会对数据进行持久性储存。浏览器不知道这些代码是用户提供的还是浏览器提供的，所以会赋予网页其他代码一样的权限。之后如果网站将存储的数据发送给其他用户，那么它就在攻击者和其他用户之间创建了一个通道。  
比如是个社交网站，用户主页的数据有用户自己设置，能够被其他用户查看。  


**DOM型xss**
这种XSS用的相对较少，并且由于其特殊性，常见的漏扫工具都无法检测出来，这里先跳过。

#### xss能造成的破坏
一旦恶意代码成功进入目标用户的页面，它能造成各种危害。下面几个列子：  
1.污染页面:注入的js代码可以任意篡改页面。比如本来是一个新闻，js代码可以把它改成假新闻  

2.欺骗请求:注入的代码可以代表用户向服务器发送请求  

3.窃取信息:注入的js能够窃取不限于cookie，网页中显示的个人数据以及被服务储存在本地的数据  





























